<app-header></app-header>
<main>
    <div class="reservation-container">
        <div class="car-list">
          <h2>Resumen de Reserva</h2>
          <div class="car-item">
            @for (car of cartArray; track $index) {
            <li>
                <img [src]="car.photos" alt="Foto del auto" class="car-image">
                <div class="car-details">
                <p><strong>Auto:</strong> {{ car.name }}</p>
                <p><strong>Año:</strong> {{ car.year }}</p>
                <p><strong>Precio:</strong> {{ car.price}}</p>
                <p><strong>Estado:</strong> {{ car.description }}</p>
                </div>
            </li>
            }
          </div>
        </div>
      
        <div class="payment-info">
          <h2>Información de Pago</h2>
          <form [formGroup]="form">
            <label for="reservationDate">Seleccione una fecha para ver el auto:</label>
            <input type="date" id="reservationDate" [(ngModel)]="selectedDate" [ngModelOptions]="{standalone: true}" name="reservationDate" required>
      
            <label for="reservationTime">Seleccione un horario:</label>
            <select id="reservationTime" [(ngModel)]="selectedTime" [ngModelOptions]="{standalone: true}" name="reservationTime" required>
              <option value="10:00 AM">10:00 AM</option>
              <option value="12:00 PM">12:00 PM</option>
              <option value="2:00 PM">2:00 PM</option>
              <option value="4:00 PM">4:00 PM</option>
            </select>
      
            <label for="cardNumber">Número de tarjeta:</label>
            <input type="number" id="cardNumber" formControlName="cardNumber">
            @if (form.get('cardNumber')?.invalid && form.get('cardNumber')?.touched) {
                <span style="color: red;">Completar Formulario</span>
            }
            @if (form.get('cardNumber')?.hasError('invalidCardLength') && form.get('cardNumber')?.touched ) {
                <span style="color: red; display: flex; flex-direction: column;">Minimo de Numeros Requeridos</span>
            }

            <label for="cardName">Nombre en la tarjeta:</label>
            <select name="cardName" id="cardName" formControlName="cardName">
                <option value="Visa">Visa</option>
                <option value="Mastercard">Mastercard</option>
                <option value="BBVA">BBVA</option>
                <option value="American Express">American Express</option>
            </select>
            @if (form.get('cardName')?.invalid && form.get('cardName')?.touched) {
                <span style="color: red;">Completar Formulario</span>
            }
      
            <label for="expiracyDate">Fecha de expiración:</label>
            <input formControlName="expiracyDate" type="date" id="expiracyDate" placeholder="YYYY-MM-DD">
            @if (form.get('expiracyDate')?.hasError('minYear')) {
                <span style="color: red;">El año de expiración debe ser 2025 o posterior</span>
            }
      
            <label for="cvv">CVV:</label>
            <input type="number" id="cvv" name="cvv" formControlName="cvv">
            @if (form.get('cvv')?.invalid && form.get('cvv')?.touched) {
                <span style="color: red;">Completar Formulario</span>
            }
            @if (form.get('cvv')?.hasError('invalidCvvLength') && form.get('cvv')?.touched) {
                <span style="color: red; display: flex; flex-direction: column;">Minimo de Numeros Requeridos</span>
            }

      
            <button type="submit" (click)="confirmSubmit()">Confirmar Pago</button>
          </form>
        </div>
      </div>      

</main>
<app-footer></app-footer>